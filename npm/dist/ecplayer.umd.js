(function(me,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],n):(me=typeof globalThis<"u"?globalThis:me||self,n(me.EcPlayer={},me.React))})(this,function(me,n){"use strict";var Qe={exports:{}},$e={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt;function mt(){if(tt)return $e;tt=1;var c=n,d=Symbol.for("react.element"),x=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,_=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function w(y,v,T){var M,O={},P=null,Y=null;T!==void 0&&(P=""+T),v.key!==void 0&&(P=""+v.key),v.ref!==void 0&&(Y=v.ref);for(M in v)m.call(v,M)&&!p.hasOwnProperty(M)&&(O[M]=v[M]);if(y&&y.defaultProps)for(M in v=y.defaultProps,v)O[M]===void 0&&(O[M]=v[M]);return{$$typeof:d,type:y,key:P,ref:Y,props:O,_owner:_.current}}return $e.Fragment=x,$e.jsx=w,$e.jsxs=w,$e}var Ke={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rt;function pt(){return rt||(rt=1,process.env.NODE_ENV!=="production"&&function(){var c=n,d=Symbol.for("react.element"),x=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator,K="@@iterator";function G(t){if(t===null||typeof t!="object")return null;var a=$&&t[$]||t[K];return typeof a=="function"?a:null}var k=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(t){{for(var a=arguments.length,u=new Array(a>1?a-1:0),h=1;h<a;h++)u[h-1]=arguments[h];je("error",t,u)}}function je(t,a,u){{var h=k.ReactDebugCurrentFrame,B=h.getStackAddendum();B!==""&&(a+="%s",u=u.concat([B]));var V=u.map(function(F){return String(F)});V.unshift("Warning: "+a),Function.prototype.apply.call(console[t],console,V)}}var pe=!1,Ee=!1,ae=!1,ie=!1,be=!1,he;he=Symbol.for("react.module.reference");function Q(t){return!!(typeof t=="string"||typeof t=="function"||t===m||t===p||be||t===_||t===T||t===M||ie||t===Y||pe||Ee||ae||typeof t=="object"&&t!==null&&(t.$$typeof===P||t.$$typeof===O||t.$$typeof===w||t.$$typeof===y||t.$$typeof===v||t.$$typeof===he||t.getModuleId!==void 0))}function we(t,a,u){var h=t.displayName;if(h)return h;var B=a.displayName||a.name||"";return B!==""?u+"("+B+")":u}function W(t){return t.displayName||"Context"}function L(t){if(t==null)return null;if(typeof t.tag=="number"&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case x:return"Portal";case p:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y:var a=t;return W(a)+".Consumer";case w:var u=t;return W(u._context)+".Provider";case v:return we(t,t.render,"ForwardRef");case O:var h=t.displayName||null;return h!==null?h:L(t.type)||"Memo";case P:{var B=t,V=B._payload,F=B._init;try{return L(F(V))}catch{return null}}}return null}var z=Object.assign,q=0,te,R,g,H,se,ke,ce;function ue(){}ue.__reactDisabledLog=!0;function Z(){{if(q===0){te=console.log,R=console.info,g=console.warn,H=console.error,se=console.group,ke=console.groupCollapsed,ce=console.groupEnd;var t={configurable:!0,enumerable:!0,value:ue,writable:!0};Object.defineProperties(console,{info:t,log:t,warn:t,error:t,group:t,groupCollapsed:t,groupEnd:t})}q++}}function A(){{if(q--,q===0){var t={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},t,{value:te}),info:z({},t,{value:R}),warn:z({},t,{value:g}),error:z({},t,{value:H}),group:z({},t,{value:se}),groupCollapsed:z({},t,{value:ke}),groupEnd:z({},t,{value:ce})})}q<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var le=k.ReactCurrentDispatcher,re;function S(t,a,u){{if(re===void 0)try{throw Error()}catch(B){var h=B.stack.trim().match(/\n( *(at )?)/);re=h&&h[1]||""}return`
`+re+t}}var D=!1,l;{var N=typeof WeakMap=="function"?WeakMap:Map;l=new N}function U(t,a){if(!t||D)return"";{var u=l.get(t);if(u!==void 0)return u}var h;D=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var V;V=le.current,le.current=null,Z();try{if(a){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(ge){h=ge}Reflect.construct(t,[],F)}else{try{F.call()}catch(ge){h=ge}t.call(F.prototype)}}else{try{throw Error()}catch(ge){h=ge}t()}}catch(ge){if(ge&&h&&typeof ge.stack=="string"){for(var C=ge.stack.split(`
`),fe=h.stack.split(`
`),ee=C.length-1,ne=fe.length-1;ee>=1&&ne>=0&&C[ee]!==fe[ne];)ne--;for(;ee>=1&&ne>=0;ee--,ne--)if(C[ee]!==fe[ne]){if(ee!==1||ne!==1)do if(ee--,ne--,ne<0||C[ee]!==fe[ne]){var ve=`
`+C[ee].replace(" at new "," at ");return t.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",t.displayName)),typeof t=="function"&&l.set(t,ve),ve}while(ee>=1&&ne>=0);break}}}finally{D=!1,le.current=V,A(),Error.prepareStackTrace=B}var Ye=t?t.displayName||t.name:"",De=Ye?S(Ye):"";return typeof t=="function"&&l.set(t,De),De}function J(t,a,u){return U(t,!1)}function f(t){var a=t.prototype;return!!(a&&a.isReactComponent)}function j(t,a,u){if(t==null)return"";if(typeof t=="function")return U(t,f(t));if(typeof t=="string")return S(t);switch(t){case T:return S("Suspense");case M:return S("SuspenseList")}if(typeof t=="object")switch(t.$$typeof){case v:return J(t.render);case O:return j(t.type,a,u);case P:{var h=t,B=h._payload,V=h._init;try{return j(V(B),a,u)}catch{}}}return""}var oe=Object.prototype.hasOwnProperty,Re={},Ae=k.ReactDebugCurrentFrame;function ye(t){if(t){var a=t._owner,u=j(t.type,t._source,a?a.type:null);Ae.setExtraStackFrame(u)}else Ae.setExtraStackFrame(null)}function Le(t,a,u,h,B){{var V=Function.call.bind(oe);for(var F in t)if(V(t,F)){var C=void 0;try{if(typeof t[F]!="function"){var fe=Error((h||"React class")+": "+u+" type `"+F+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[F]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw fe.name="Invariant Violation",fe}C=t[F](a,F,h,u,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ee){C=ee}C&&!(C instanceof Error)&&(ye(B),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",h||"React class",u,F,typeof C),ye(null)),C instanceof Error&&!(C.message in Re)&&(Re[C.message]=!0,ye(B),b("Failed %s type: %s",u,C.message),ye(null))}}}var Ce=Array.isArray;function Fe(t){return Ce(t)}function Be(t){{var a=typeof Symbol=="function"&&Symbol.toStringTag,u=a&&t[Symbol.toStringTag]||t.constructor.name||"Object";return u}}function He(t){try{return Me(t),!1}catch{return!0}}function Me(t){return""+t}function Oe(t){if(He(t))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Be(t)),Me(t)}var We=k.ReactCurrentOwner,ze={key:!0,ref:!0,__self:!0,__source:!0},Ve,_e;function Te(t){if(oe.call(t,"ref")){var a=Object.getOwnPropertyDescriptor(t,"ref").get;if(a&&a.isReactWarning)return!1}return t.ref!==void 0}function Ie(t){if(oe.call(t,"key")){var a=Object.getOwnPropertyDescriptor(t,"key").get;if(a&&a.isReactWarning)return!1}return t.key!==void 0}function r(t,a){typeof t.ref=="string"&&We.current}function s(t,a){{var u=function(){Ve||(Ve=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",a))};u.isReactWarning=!0,Object.defineProperty(t,"key",{get:u,configurable:!0})}}function o(t,a){{var u=function(){_e||(_e=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",a))};u.isReactWarning=!0,Object.defineProperty(t,"ref",{get:u,configurable:!0})}}var i=function(t,a,u,h,B,V,F){var C={$$typeof:d,type:t,key:a,ref:u,props:F,_owner:V};return C._store={},Object.defineProperty(C._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(C,"_self",{configurable:!1,enumerable:!1,writable:!1,value:h}),Object.defineProperty(C,"_source",{configurable:!1,enumerable:!1,writable:!1,value:B}),Object.freeze&&(Object.freeze(C.props),Object.freeze(C)),C};function E(t,a,u,h,B){{var V,F={},C=null,fe=null;u!==void 0&&(Oe(u),C=""+u),Ie(a)&&(Oe(a.key),C=""+a.key),Te(a)&&(fe=a.ref,r(a,B));for(V in a)oe.call(a,V)&&!ze.hasOwnProperty(V)&&(F[V]=a[V]);if(t&&t.defaultProps){var ee=t.defaultProps;for(V in ee)F[V]===void 0&&(F[V]=ee[V])}if(C||fe){var ne=typeof t=="function"?t.displayName||t.name||"Unknown":t;C&&s(F,ne),fe&&o(F,ne)}return i(t,C,fe,B,h,We.current,F)}}var I=k.ReactCurrentOwner,de=k.ReactDebugCurrentFrame;function xe(t){if(t){var a=t._owner,u=j(t.type,t._source,a?a.type:null);de.setExtraStackFrame(u)}else de.setExtraStackFrame(null)}var Pe;Pe=!1;function X(t){return typeof t=="object"&&t!==null&&t.$$typeof===d}function Ue(){{if(I.current){var t=L(I.current.type);if(t)return`

Check the render method of \``+t+"`."}return""}}function Tt(t){return""}var ut={};function St(t){{var a=Ue();if(!a){var u=typeof t=="string"?t:t.displayName||t.name;u&&(a=`

Check the top-level render call using <`+u+">.")}return a}}function dt(t,a){{if(!t._store||t._store.validated||t.key!=null)return;t._store.validated=!0;var u=St(a);if(ut[u])return;ut[u]=!0;var h="";t&&t._owner&&t._owner!==I.current&&(h=" It was passed a child from "+L(t._owner.type)+"."),xe(t),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',u,h),xe(null)}}function ft(t,a){{if(typeof t!="object")return;if(Fe(t))for(var u=0;u<t.length;u++){var h=t[u];X(h)&&dt(h,a)}else if(X(t))t._store&&(t._store.validated=!0);else if(t){var B=G(t);if(typeof B=="function"&&B!==t.entries)for(var V=B.call(t),F;!(F=V.next()).done;)X(F.value)&&dt(F.value,a)}}}function _t(t){{var a=t.type;if(a==null||typeof a=="string")return;var u;if(typeof a=="function")u=a.propTypes;else if(typeof a=="object"&&(a.$$typeof===v||a.$$typeof===O))u=a.propTypes;else return;if(u){var h=L(a);Le(u,t.props,"prop",h,t)}else if(a.PropTypes!==void 0&&!Pe){Pe=!0;var B=L(a);b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",B||"Unknown")}typeof a.getDefaultProps=="function"&&!a.getDefaultProps.isReactClassApproved&&b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Pt(t){{for(var a=Object.keys(t.props),u=0;u<a.length;u++){var h=a[u];if(h!=="children"&&h!=="key"){xe(t),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",h),xe(null);break}}t.ref!==null&&(xe(t),b("Invalid attribute `ref` supplied to `React.Fragment`."),xe(null))}}var xt={};function gt(t,a,u,h,B,V){{var F=Q(t);if(!F){var C="";(t===void 0||typeof t=="object"&&t!==null&&Object.keys(t).length===0)&&(C+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var fe=Tt();fe?C+=fe:C+=Ue();var ee;t===null?ee="null":Fe(t)?ee="array":t!==void 0&&t.$$typeof===d?(ee="<"+(L(t.type)||"Unknown")+" />",C=" Did you accidentally export a JSX literal instead of a component?"):ee=typeof t,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ee,C)}var ne=E(t,a,u,B,V);if(ne==null)return ne;if(F){var ve=a.children;if(ve!==void 0)if(h)if(Fe(ve)){for(var Ye=0;Ye<ve.length;Ye++)ft(ve[Ye],t);Object.freeze&&Object.freeze(ve)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ft(ve,t)}if(oe.call(a,"key")){var De=L(t),ge=Object.keys(a).filter(function(zt){return zt!=="key"}),et=ge.length>0?"{key: someKey, "+ge.join(": ..., ")+": ...}":"{key: someKey}";if(!xt[De+et]){var Ot=ge.length>0?"{"+ge.join(": ..., ")+": ...}":"{}";b(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,et,De,Ot,De),xt[De+et]=!0}}return t===m?Pt(ne):_t(ne),ne}}function At(t,a,u){return gt(t,a,u,!0)}function Ft(t,a,u){return gt(t,a,u,!1)}var Lt=Ft,Mt=At;Ke.Fragment=m,Ke.jsx=Lt,Ke.jsxs=Mt}()),Ke}process.env.NODE_ENV==="production"?Qe.exports=mt():Qe.exports=pt();var e=Qe.exports;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yt=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(d,x,m)=>m?m.toUpperCase():x.toLowerCase()),nt=c=>{const d=yt(c);return d.charAt(0).toUpperCase()+d.slice(1)},at=(...c)=>c.filter((d,x,m)=>!!d&&d.trim()!==""&&m.indexOf(d)===x).join(" ").trim(),bt=c=>{for(const d in c)if(d.startsWith("aria-")||d==="role"||d==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=n.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:x=2,absoluteStrokeWidth:m,className:_="",children:p,iconNode:w,...y},v)=>n.createElement("svg",{ref:v,...vt,width:d,height:d,stroke:c,strokeWidth:m?Number(x)*24/Number(d):x,className:at("lucide",_),...!p&&!bt(y)&&{"aria-hidden":"true"},...y},[...w.map(([T,M])=>n.createElement(T,M)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(c,d)=>{const x=n.forwardRef(({className:m,..._},p)=>n.createElement(jt,{ref:p,iconNode:d,className:at(`lucide-${ht(nt(c))}`,`lucide-${c}`,m),..._}));return x.displayName=nt(c),x};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Ne("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=Ne("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Ne("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Ne("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Ne("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Ne("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Ne("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Ne("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Ne("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Ne("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Se={rainbow:{name:"Rainbow",bg:"linear-gradient(135deg, #ef444422 0%, #f9731622 15%, #f59e0b22 30%, #10b98122 45%, #06b6d422 60%, #3b82f622 75%, #6366f122 85%, #a855f722 92%, #ec489922 100%)",bars:["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e"],peak:"#a0a0a0ff",button:"#ec4899",buttonHover:"#d946ef",slider:"#ec4899"},ocean:{name:"Ocean Blue",bg:"linear-gradient(135deg, #667eea43 0%, #764ba243 100%)",bars:["#0ea5e9","#38bdf8","#06b6d4","#22d3ee"],peak:"#0369a1",button:"#0ea5e9",buttonHover:"#0284c7",slider:"#0ea5e9"},sunset:{name:"Sunset",bg:"linear-gradient(135deg, #f093fb43 0%, #f5576c43 100%)",bars:["#f43f5e","#fb7185","#fda4af","#fecdd3"],peak:"#be123c",button:"#f43f5e",buttonHover:"#e11d48",slider:"#f43f5e"},forest:{name:"Forest Green",bg:"linear-gradient(135deg, #0ba36043 0%, #3cba9243 100%)",bars:["#10b981","#34d399","#6ee7b7","#a7f3d0"],peak:"#047857",button:"#10b981",buttonHover:"#059669",slider:"#10b981"},midnight:{name:"Midnight",bg:"linear-gradient(135deg, #2c3e5043 0%, #3498db43 100%)",bars:["#3b82f6","#60a5fa","#93c5fd","#bfdbfe"],peak:"#1e40af",button:"#3b82f6",buttonHover:"#2563eb",slider:"#3b82f6"},neon:{name:"Neon Cyan",bg:"linear-gradient(135deg, #13547a43 0%, #80d0c743 100%)",bars:["#06b6d4","#22d3ee","#67e8f9","#a5f3fc"],peak:"#0e7490",button:"#06b6d4",buttonHover:"#0891b2",slider:"#06b6d4"},purple:{name:"Royal Purple",bg:"linear-gradient(135deg, #2f1c5622 0%, #764ba243 100%)",bars:["#8b5cf6","#a78bfa","#baabf9ff","#ddd6fe"],peak:"#6d28d9",button:"#8b5cf6",buttonHover:"#7c3aed",slider:"#8b5cf6"},amber:{name:"Amber Gold",bg:"linear-gradient(135deg, #f59e0b43 0%, #d9770643 100%)",bars:["#f59e0b","#fbbf24","#fcd34d","#fde68a"],peak:"#b45309",button:"#f59e0b",buttonHover:"#d97706",slider:"#f59e0b"},rose:{name:"Rose Pink",bg:"linear-gradient(135deg, #ec489943 0%, #be185d43 100%)",bars:["#ec4899","#f472b6","#f9a8d4","#fbcfe8"],peak:"#9f1239",button:"#ec4899",buttonHover:"#db2777",slider:"#ec4899"}};function lt({theme:c,setTheme:d,close:x}){const m=Object.keys(Se).map(_=>({key:_,name:Se[_].name,colors:Se[_].bars}));return e.jsxs("div",{className:"container-glass rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Choose Color Palette"}),e.jsx("button",{onClick:()=>x(),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:"Close"})]}),e.jsx("div",{className:"theme-selector grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:m.map(_=>e.jsxs("div",{className:`theme-card bg-white p-4 rounded-lg cursor-pointer border-2 transition-all ${c===_.key?"border-current shadow-lg":"border-transparent"}`,onClick:()=>d(_.key),children:[e.jsx("div",{className:"color-preview h-10 rounded mb-2",style:{background:`linear-gradient(to right, ${_.colors.join(", ")})`}}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:_.name})]},_.key))})]})}function ot({audio:c,name:d="No track loaded",author:x,theme:m="rainbow",volume:_=100,thumbnail:p=null,controls:w={play:!0,pause:!0,stop:!0,seekbar:!0,volume:!0,loop:!0,trackName:!0,equalizer:!0},mode:y="light",bands:v=null,transparent:T=!1,autoPlay:M=!1,equalizer:O={bass:0,mid:0,treble:0}}){const[P,Y]=n.useState(!1),[$,K]=n.useState(0),[G,k]=n.useState(0),[b,je]=n.useState(_||100),[pe,Ee]=n.useState(!1),[ae,ie]=n.useState(!1),[be,he]=n.useState(!1),[Q,we]=n.useState([]),[W,L]=n.useState(!1),[z,q]=n.useState({bass:O.bass||0,mid:O.mid||0,treble:O.treble||0}),[te,R]=n.useState(0),g=n.useRef(null),H=n.useRef(null),se=n.useRef(null),ke=n.useRef(null),ce=n.useRef(null),ue=n.useRef(null),Z=n.useRef(null),A=n.useRef(null),le=n.useRef(null),re=n.useRef(null);n.useEffect(()=>{const r=re.current;if(!r)return;const s=new ResizeObserver(o=>{for(let i of o)R(i.contentRect.width)});return s.observe(r),()=>s.disconnect()},[]),n.useEffect(()=>{const r=[];if(c&&typeof c!="string"&&r.push(["TypeError","audio must be a string (URL or path)"]),d&&typeof d!="string"&&r.push(["TypeError","name must be a string"]),m&&typeof m!="string"&&typeof m!="object")r.push(["TypeError","theme must be a string or a valid theme object"]);else if(typeof m=="object"){const s=["name","bg","bars","peak","button","buttonHover","slider"];for(const o of s)o in m||r.push(["ThemeError",`theme object missing key: ${o}`])}(typeof _!="number"||_<0||_>100)&&r.push(["TypeError","volume must be a number between 0 and 100"]),typeof w!="object"||Array.isArray(w)?r.push(["TypeError","controls must be an object"]):["play","pause","stop","seekbar","volume","loop","trackName","equalizer"].forEach(o=>{w&&o in w&&typeof w[o]!="boolean"&&r.push(["TypeError",`controls.${o} must be a boolean`])}),v&&(Array.isArray(v)?v.length===0?r.push(["ValueError","bands array cannot be empty"]):v.forEach((s,o)=>{typeof s.freq!="number"&&r.push(["TypeError",`bands[${o}].freq must be a number`])}):r.push(["TypeError","bands must be an array"])),r.length>0?(we(r),console.group("%cVisualizePlayer: Prop validation failed","color:red"),r.forEach(s=>console.error(`${s[0]}: ${s[1]}`)),console.groupEnd()):we([])},[c,d,m,_,w,y,v]);const S=v||[{freq:0},{freq:10},{freq:20},{freq:25},{freq:31.5},{freq:40},{freq:50},{freq:63},{freq:80},{freq:100},{freq:125},{freq:160},{freq:200},{freq:250},{freq:315},{freq:400},{freq:500},{freq:630},{freq:800},{freq:1e3},{freq:1250},{freq:1600},{freq:2e3},{freq:2500},{freq:3150},{freq:4e3},{freq:5e3},{freq:6300},{freq:8e3},{freq:1e4},{freq:12500}],D=n.useRef(S.map(()=>0)),l=n.useRef(S.map(()=>0)),N=n.useRef(S.map(()=>0)),U=n.useRef(!1),J=n.useRef(typeof m=="string"?m:"purple");let f=typeof m=="string"?Se[m]||Se.purple:typeof m=="object"?m:Se.purple;const j=y==="dark",oe=typeof w=="object"&&Object.keys(w).length===0;n.useEffect(()=>{typeof m=="string"?J.current=m:J.current="purple",Ce()},[m]),n.useEffect(()=>{g.current||(g.current=new Audio);const r=g.current,s=()=>{be||K(r.currentTime)},o=()=>{k(r.duration)},i=()=>{ae||(Y(!1),A.current&&cancelAnimationFrame(A.current))},E=()=>Y(!0),I=()=>Y(!1);return r.addEventListener("timeupdate",s),r.addEventListener("loadedmetadata",o),r.addEventListener("ended",i),r.addEventListener("play",E),r.addEventListener("pause",I),()=>{r.removeEventListener("timeupdate",s),r.removeEventListener("loadedmetadata",o),r.removeEventListener("ended",i),r.removeEventListener("play",E),r.removeEventListener("pause",I)}},[be,ae]),n.useEffect(()=>()=>{g.current&&(g.current.pause(),g.current.src="",g.current.load()),H.current&&H.current.close().catch(r=>console.warn("AudioContext cleanup error:",r)),A.current&&cancelAnimationFrame(A.current)},[]),n.useEffect(()=>{if(c){const r=P,s=b,o=ae;if(A.current&&(cancelAnimationFrame(A.current),A.current=null),ke.current){try{ke.current.disconnect()}catch(X){console.warn("Source disconnect error:",X)}ke.current=null}if(se.current){try{se.current.disconnect()}catch(X){console.warn("Analyser disconnect error:",X)}se.current=null}if(ce.current){try{ce.current.disconnect()}catch(X){console.warn("Bass filter disconnect error:",X)}ce.current=null}if(ue.current){try{ue.current.disconnect()}catch(X){console.warn("Mid filter disconnect error:",X)}ue.current=null}if(Z.current){try{Z.current.disconnect()}catch(X){console.warn("Treble filter disconnect error:",X)}Z.current=null}H.current&&(H.current.close().catch(X=>console.warn("AudioContext close error:",X)),H.current=null),g.current&&(g.current.pause(),g.current.src="",g.current.load()),g.current=new Audio;try{g.current.crossOrigin="anonymous"}catch(X){console.debug("Could not set crossOrigin on audio element",X)}g.current.src=c,g.current.preload="auto",g.current.muted=!1,g.current.volume=pe?0:s/100,g.current.loop=o,g.current.load();const i=g.current,E=()=>{be||K(i.currentTime)},I=()=>{k(i.duration)},de=()=>{ae||(Y(!1),A.current&&cancelAnimationFrame(A.current))},xe=()=>Y(!0),Pe=()=>Y(!1);i.addEventListener("timeupdate",E),i.addEventListener("loadedmetadata",I),i.addEventListener("ended",de),i.addEventListener("play",xe),i.addEventListener("pause",Pe),K(0),Y(!1),console.debug("Audio element created",{src:g.current.src,volume:g.current.volume,loop:g.current.loop}),D.current=S.map(()=>0),l.current=S.map(()=>0),N.current=S.map(()=>0),Ce(),r&&g.current.play().catch(X=>console.error("Play failed:",X))}},[c]),n.useEffect(()=>{g.current&&(g.current.volume=pe?0:b/100)},[b,pe]),n.useEffect(()=>{g.current&&(g.current.loop=ae)},[ae]),n.useEffect(()=>{H.current&&(ce.current&&(ce.current.gain.value=z.bass),ue.current&&(ue.current.gain.value=z.mid),Z.current&&(Z.current.gain.value=z.treble))},[z]),n.useEffect(()=>{U.current=P,A.current&&(cancelAnimationFrame(A.current),A.current=null),P?(H.current||Re(),Le()):ye()},[P]);const Re=()=>{if(!H.current&&g.current)try{const r=window.AudioContext||window.webkitAudioContext;if(r){const s=new r;H.current=s;const o=s.createBiquadFilter();o.type="lowshelf",o.frequency.value=320,o.gain.value=z.bass;const i=s.createBiquadFilter();i.type="peaking",i.frequency.value=1e3,i.Q.value=.5,i.gain.value=z.mid;const E=s.createBiquadFilter();E.type="highshelf",E.frequency.value=3200,E.gain.value=z.treble;const I=s.createAnalyser();I.fftSize=8192,I.smoothingTimeConstant=.7;const de=s.createMediaElementSource(g.current);de.connect(o),o.connect(i),i.connect(E),E.connect(I),I.connect(s.destination),ce.current=o,ue.current=i,Z.current=E,se.current=I,ke.current=de}}catch(r){console.error("Failed to setup audio context:",r)}},Ae=r=>{const s=H.current,o=se.current;if(!s||!o)return 0;const i=s.sampleRate/2,E=Math.round(r/i*o.frequencyBinCount);return Math.min(E,o.frequencyBinCount-1)},ye=()=>{if(U.current)return;D.current=D.current.map(i=>i*.7);const r=Date.now();l.current=l.current.map((i,E)=>r-N.current[E]>1500?i*.95:i),Ce();const s=Math.max(...D.current),o=Math.max(...l.current);s>.01||o>.01?A.current=requestAnimationFrame(ye):(U.current||(D.current=S.map(()=>0),l.current=S.map(()=>0),N.current=S.map(()=>0),Ce()),A.current&&cancelAnimationFrame(A.current),A.current=null)},Le=()=>{if(!se.current||!U.current)return;const r=se.current.frequencyBinCount,s=new Uint8Array(r);se.current.getByteFrequencyData(s),S.forEach((o,i)=>{const E=Ae(o.freq),I=i<S.length-1?Ae(S[i+1].freq):s.length;let de=0,xe=0;for(let Ue=E;Ue<I;Ue++)de+=s[Ue],xe++;let Pe=xe>0?de/xe/255:0;Pe=Math.pow(Pe,.6),D.current[i]=D.current[i]*.8+Pe*.2;const X=Date.now();D.current[i]>l.current[i]?(l.current[i]=D.current[i],N.current[i]=X):X-N.current[i]>1500&&(l.current[i]*=.95)}),Ce(),A.current=requestAnimationFrame(Le)},Ce=()=>{if(!le.current)return;const r=Se[J.current]||Se.rainbow;let s="";S.forEach((o,i)=>{const E=D.current[i]*100,I=100-l.current[i]*100,de=Math.floor(i/S.length*r.bars.length),xe=r.bars[Math.min(de,r.bars.length-1)];s+=`
                <div class="flex-1 h-full relative flex flex-col justify-end">
                    <div class="rounded-t transition-all duration-75" style="height: ${E}%; background: ${xe};">
                        ${l.current[i]>.1?`<div class="absolute w-full h-0.5 transition-all duration-100" style="top: ${I}%; background: ${r.peak};"></div>`:""}
                    </div>
                </div>
            `}),le.current.innerHTML=s},Fe=()=>{!g.current||!c||(P?g.current.pause():(H.current&&H.current.state==="suspended"&&H.current.resume(),g.current.play().catch(r=>console.error("Play failed:",r))))},Be=()=>{g.current&&(g.current.pause(),g.current.currentTime=0,Y(!1),K(0),D.current=S.map(()=>0),l.current=S.map(()=>0),N.current=S.map(()=>0),Ce())},He=r=>{const o=parseFloat(r.target.value)/100*G;K(o),g.current&&!be&&(g.current.currentTime=o)},Me=()=>{he(!0)},Oe=()=>{g.current&&(g.current.currentTime=$),he(!1)},We=r=>{const s=parseInt(r.target.value);je(s),Ee(s===0)},ze=()=>{Ee(!pe)},Ve=()=>{ie(!ae)},_e=(r,s)=>{q(o=>({...o,[r]:s}))},Te=()=>{q({bass:0,mid:0,treble:0})};n.useEffect(()=>{((typeof w=="object"&&Object.keys(w).length===0||!w)&&!P||M)&&Fe()},[w]);const Ie=r=>{if(isNaN(r))return"0:00";const s=Math.floor(r/60),o=Math.floor(r%60);return`${s}:${o.toString().padStart(2,"0")}`};return Q&&Q.length>0?Q.map((r,s)=>e.jsxs("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded mb-4 border border-red-300",children:[e.jsxs("strong",{children:[r[0],":"]})," ",r[1]]},s)):e.jsx("div",{ref:re,className:"w-full rounded-xl overflow-hidden",style:{backgroundColor:oe||T?void 0:j?"#6060606a":"#ffffffab"},children:e.jsxs("div",{style:{background:oe||T?void 0:f.bg},className:oe||T?"":"p-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${T&&W?"opacity-30":""} ${oe||T?"":j?"bg-black/40":"bg-white/70"} rounded-lg ${oe?"":"mb-6"} ${oe||T?"":"p-4"} shadow-sm`,children:e.jsx("div",{className:"flex justify-center items-end gap-1 h-64",ref:le})}),W&&e.jsxs("div",{className:`absolute inset-0 flex flex-col w-full justify-center z-10 ${!(oe||T)&&(j?"bg-black/50":"bg-white/80")} rounded-lg p-4 shadow-sm transition-all duration-300`,children:[e.jsx("h3",{className:`text-sm font-medium mb-4 ${j?"text-gray-200":"text-gray-700"}`,children:"Equalizer"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-300":"text-gray-600"}`,children:"Bass"}),e.jsxs("span",{className:`text-xs ${j?"text-gray-300":"text-gray-600"}`,children:[z.bass," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:z.bass,onChange:r=>_e("bass",parseInt(r.target.value)),className:"flex-1 h-8 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${f.slider} ${(z.bass+20)/40*100}%, ${f.slider+"30"} ${(z.bass+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${j?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-300":"text-gray-600"}`,children:"Mid"}),e.jsxs("span",{className:`text-xs ${j?"text-gray-300":"text-gray-600"}`,children:[z.mid," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:z.mid,onChange:r=>_e("mid",parseInt(r.target.value)),className:"flex-1 h-8 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${f.slider} ${(z.mid+20)/40*100}%, ${f.slider+"30"} ${(z.mid+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${j?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-300":"text-gray-600"}`,children:"Treble"}),e.jsxs("span",{className:`text-xs ${j?"text-gray-300":"text-gray-600"}`,children:[z.treble," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:z.treble,onChange:r=>_e("treble",parseInt(r.target.value)),className:"flex-1 h-8 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${f.slider} ${(z.treble+20)/40*100}%, ${f.slider+"30"} ${(z.treble+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${j?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:Te,className:`px-3 py-1 rounded text-xs ${j?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-all`,children:"Reset"})})]})]}),w.trackName&&e.jsxs("div",{className:"mb-6 flex items-center",children:[p&&e.jsx("div",{className:"mr-2",children:e.jsx("img",{src:p,alt:"",className:`${P?"animation-spin":""} h-12 w-12 rounded-full`})}),e.jsxs("div",{children:[e.jsx("div",{className:`${j?"text-gray-100":"text-gray-700"} font-medium truncate`,children:d}),x&&typeof x=="string"&&e.jsx("div",{className:`${j?"text-gray-300":"text-gray-500"} text-xs`,children:x})]})]}),w.seekbar&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center md:gap-1",children:[e.jsx("span",{className:`text-xs ${j?"text-gray-100":"text-gray-600"} font-mono w-12`,children:Ie($)}),e.jsx("input",{type:"range",min:"0",max:"100",value:G>0?$/G*100:0,onChange:He,onMouseDown:Me,onMouseUp:Oe,onTouchStart:Me,onTouchEnd:Oe,disabled:!c,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed",style:{background:c&&G>0?`linear-gradient(to right, ${f.slider} ${$/G*100}%, ${f.slider+"30"} ${$/G*100}%)`:f.slider+"30"}}),e.jsx("span",{className:`text-xs ${j?"text-gray-100":"text-gray-600"} font-mono w-12 text-right`,children:Ie(G)})]})}),e.jsxs("div",{className:`flex flex-wrap items-center ${te<330?"gap-2":"gap-3"}`,children:[w.play&&e.jsxs("button",{onClick:Fe,disabled:!c,className:`${te<350?"px-3 py-5":"px-4 py-2 md:w-24"} rounded-full text-sm font-medium text-white disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-2 transition-all hover:opacity-90`,style:{backgroundColor:f.button},children:[e.jsxs("div",{className:"relative w-4 flex items-center",children:[e.jsx(Ge,{size:16,className:`${P?"":"scale-0 translate-y-10"} transition-all absolute`}),e.jsx(Je,{size:16,className:`${P?"scale-0 -translate-y-10":""} transition-all absolute`})]}),e.jsx("span",{style:{display:te<350?"none":"block"},children:P?"Pause":"Play"})]}),w.stop&&e.jsxs("button",{onClick:Be,disabled:!c,className:`${j?"bg-gray-100 text-black":"bg-gray-700 text-white"} ${te<600?"px-3 py-3":"px-4 py-2"} rounded-full text-sm font-medium ${j?"hover:bg-gray-300":"hover:bg-gray-800"} disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-2 transition-all`,children:[e.jsx(st,{size:16}),e.jsx("span",{style:{display:te<600?"none":"block"},children:"Stop"})]}),w.equalizer&&e.jsxs("button",{onClick:()=>L(!W),disabled:!c,className:`${te<600?"px-3 py-3":"px-4 py-2"} rounded-full text-sm font-medium flex items-center gap-2 transition-all ${W?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-300"} disabled:opacity-40 disabled:cursor-not-allowed`,style:W?{backgroundColor:f.button}:{},children:[e.jsx(Xe,{size:16}),e.jsx("span",{style:{display:te<600?"none":"block"},children:"EQ"})]}),w.loop&&e.jsxs("button",{onClick:Ve,disabled:!c,className:`${te<700?"px-3 py-3":"px-4 py-2"} rounded-full text-sm font-medium flex items-center gap-2 transition-all ${ae?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-300"} disabled:opacity-40 disabled:cursor-not-allowed`,style:ae?{backgroundColor:f.button}:{},children:[e.jsx(Nt,{size:16,className:`${ae?"rotate-180":""} transition-all`}),e.jsx("span",{style:{display:te<700?"none":"block"},children:"Loop"})]}),w.volume&&e.jsxs("div",{className:"flex items-center gap-1 md:gap-3 ml-auto",children:[e.jsx("button",{onClick:ze,className:"p-2 rounded-full hover:bg-gray-100/50 transition-all",children:pe||b===0?e.jsx(Ze,{size:20,className:j?"text-gray-100":"text-gray-600"}):e.jsx(qe,{size:20,className:j?"text-gray-100":"text-gray-600"})}),e.jsx("input",{type:"range",min:"0",max:"100",value:b,onChange:We,className:"hide-for-xs w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${f.slider} ${b}%, ${f.slider+"30"} ${b}%)`,display:te<460?"none":"block"}}),e.jsxs("span",{style:{display:te<800?"none":"block"},className:`hidden sm:block text-xs ${j?"text-gray-100":"text-gray-700"} font-mono w-10 text-right`,children:[b,"%"]})]})]}),e.jsx("style",{children:`
                input[type="range"]::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    appearance: none;
                    width: 16px;
                    height: 16px;
                    border-radius: 50%;
                    background: ${f.slider};
                    cursor: pointer;
                    border: 2px solid white;
                    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                }
                
                input[type="range"]::-moz-range-thumb {
                    width: 16px;
                    height: 16px;
                    border-radius: 50%;
                    background: ${f.slider};
                    cursor: pointer;
                    border: 2px solid white;
                    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                }
                input[type="range"].eq-slider::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    appearance: none;
                    width: 0;
                    height: 0;
                    background: transparent;
                    border: none;
                    box-shadow: none;
                }
                input[type="range"].eq-slider::-moz-range-thumb {
                    width: 0;
                    height: 0;
                    background: transparent;
                    border: none;
                    box-shadow: none;
                }
                .hide-for-xs {
                    display: flex;
                }
                @media (max-width: 480px) {
                    .hide-for-xs {
                        display: none;
                    }
                }
                .animation-spin {
                    animation: spin 15s infinite linear;
                }

                @keyframes spin {
                    from {
                        transform: rotate(0deg);
                    }
                    to {
                        transform: rotate(360deg)
                    }
                }
            `})]})})}function it({audio:c,gradient:d=["#cd7eff","#fe59f6"],background:x="#2f1f3aff",autoPlay:m=!1,thumbnail:_=null,width:p,equalizer:w={bass:0,mid:0,treble:0},mode:y="light"}){const[v,T]=n.useState(!1),[M,O]=n.useState(0),[P,Y]=n.useState(0),[$,K]=n.useState(!1),[G,k]=n.useState(80),[b,je]=n.useState(1),[pe,Ee]=n.useState([]),[ae,ie]=n.useState(null),[be,he]=n.useState(!1),[Q,we]=n.useState({bass:w.bass||0,mid:w.mid||0,treble:w.treble||0}),W=n.useRef(null),L=n.useRef(null),z=n.useRef(null),q=n.useRef(null),te=n.useRef(null),R=n.useRef(null),g=()=>{const l=[];for(let N=0;N<100;N++){const U=20+Math.random()*60;l.push(U)}return l};n.useEffect(()=>{if(!c)return;if(!Array.isArray(d)||d.length<2){ie("Gradient must be an array with at least 2 colors");return}const l=W.current;if(!l)return;const N=()=>O(l.currentTime),U=()=>{Y(l.duration),Ee(g())},J=()=>T(!1),f=j=>{var oe,Re;ie(`Audio error: ${((Re=(oe=j.target)==null?void 0:oe.error)==null?void 0:Re.message)||"Failed to load audio"}`)};return l.addEventListener("timeupdate",N),l.addEventListener("loadedmetadata",U),l.addEventListener("ended",J),l.addEventListener("error",f),()=>{l.removeEventListener("timeupdate",N),l.removeEventListener("loadedmetadata",U),l.removeEventListener("ended",J),l.removeEventListener("error",f)}},[c,d,y]),n.useEffect(()=>{c&&W.current&&m&&(W.current.play().catch(l=>{console.error("Play failed:",l),T(!1)}),T(!0))},[c]),n.useEffect(()=>{if(W.current&&!L.current&&W.current){const l=window.AudioContext||window.webkitAudioContext;if(l){const N=new l;L.current=N;const U=N.createMediaElementSource(W.current);z.current=U;const J=N.createBiquadFilter();J.type="lowshelf",J.frequency.value=200,q.current=J;const f=N.createBiquadFilter();f.type="peaking",f.frequency.value=1e3,f.Q.value=1,te.current=f;const j=N.createBiquadFilter();j.type="highshelf",j.frequency.value=3e3,R.current=j,U.connect(J).connect(f).connect(j).connect(N.destination)}}},[c]),n.useEffect(()=>{W.current&&(W.current.volume=$?0:G/100)},[G,$]),n.useEffect(()=>{W.current&&(W.current.playbackRate=b)},[b]);const H=()=>{W.current&&(v?W.current.pause():W.current.play().catch(l=>{ie(`Playback failed: ${l instanceof Error?l.message:String(l)}`)}),T(!v))},se=()=>{K(!$)},ke=l=>{k(parseInt(l.target.value)),$&&parseInt(l.target.value)>0&&K(!1)},ce=l=>{je(parseFloat(l.target.value))},ue=l=>{const N=l.currentTarget.getBoundingClientRect(),f=(l.clientX-N.left)/N.width*P;W.current&&(W.current.currentTime=f,O(f))},Z=(l,N)=>{we(U=>({...U,[l]:N})),l==="bass"&&q.current&&(q.current.gain.value=N),l==="mid"&&te.current&&(te.current.gain.value=N),l==="treble"&&R.current&&(R.current.gain.value=N)},A=()=>{Z("bass",0),Z("mid",0),Z("treble",0)},le=l=>{if(isNaN(l))return"0:00";const N=Math.floor(l/60),U=Math.floor(l%60);return`${N}:${U.toString().padStart(2,"0")}`},re=P>0?M/P*100:0;if(ae)return e.jsx("div",{className:"w-lg p-6 rounded-xl",style:{background:x},children:e.jsxs("div",{className:`text-center ${y==="dark"?"text-red-300":"text-red-600"}`,children:[e.jsx("p",{className:"font-medium",children:"Error"}),e.jsx("p",{className:"text-sm",children:ae})]})});if(!c)return null;const S=y==="dark"?"text-gray-300":"text-gray-700",D=y==="dark"?"text-gray-500":"text-gray-400";return e.jsxs("div",{className:"w-full max-w-lg relative",style:{width:p+"px"},children:[e.jsx("audio",{ref:W,src:c}),e.jsx("div",{className:"rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"rounded-2xl p-6 backdrop-blur-xl",style:{background:x},children:[_&&e.jsx("div",{className:"w-full p-4",children:e.jsx("img",{src:_,alt:"",className:"w-full aspect-square rounded-xl"})}),e.jsxs("div",{className:"relative h-20 mb-6 cursor-pointer",onClick:ue,children:[e.jsx("div",{className:"absolute inset-0 flex items-end justify-center h-full w-full gap-px",children:pe.map((l,N)=>{const J=N/pe.length*100<=re;return e.jsx("div",{className:"w-1 rounded-t transition-all duration-150",style:{height:`${l}%`,background:J?d[0]:d[1],opacity:J?1:.4}},N)})}),e.jsx("div",{className:"absolute top-0 h-full w-1 bg-white border-r border-black rounded-full transition-all duration-150",style:{left:`${re}%`,transform:"translateX(-50%)"}})]}),e.jsxs("div",{className:`flex justify-between text-sm ${D} mb-6`,children:[e.jsx("span",{children:le(M)}),e.jsx("span",{children:le(P)})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:se,className:"p-2 rounded-full transition-all",style:{background:`linear-gradient(135deg, ${d[0]}, ${d[1]})`},children:$||G===0?e.jsx(Ze,{className:"w-4 h-4 text-white"}):e.jsx(qe,{className:"w-4 h-4 text-white"})}),e.jsx("input",{type:"range",min:"0",max:"100",value:G,onChange:ke,className:`${p?"":"hidden sm:block"} w-20 h-1.5 rounded-lg appearance-none cursor-pointer`,style:{background:`linear-gradient(to right, ${d[0]} ${G}%, ${y==="dark"?"#374151":"#d1d5db"} ${G}%)`,display:p&&p<400?"none":void 0}}),p&&p<400&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>he(!be),className:"p-2 rounded-full transition-all",style:{background:`linear-gradient(135deg, ${d[0]}, ${d[1]})`},children:e.jsx(Xe,{className:"w-4 h-4 text-white"})})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:H,className:"p-4 rounded-full transition-all hover:scale-105 shadow-lg",style:{background:`linear-gradient(135deg, ${d[0]}, ${d[1]})`},children:v?e.jsx(Ge,{className:"w-6 h-6 text-white fill-white"}):e.jsx(Je,{className:"w-6 h-6 text-white fill-white"})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("select",{value:b,style:{background:x,color:d[0]},onChange:ce,className:`py-1 px-2 rounded-lg text-sm ${S} ${y==="dark"?"bg-gray-800":"bg-gray-100"}`,children:[e.jsx("option",{value:"0.5",children:"0.5x"}),e.jsx("option",{value:"0.75",children:"0.75x"}),e.jsx("option",{value:"1",children:"1x"}),e.jsx("option",{value:"1.25",children:"1.25x"}),e.jsx("option",{value:"1.5",children:"1.5x"}),e.jsx("option",{value:"2",children:"2x"})]})}),!(p&&p<400)&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>he(!be),className:"p-2 rounded-full transition-all",style:{background:`linear-gradient(135deg, ${d[0]}, ${d[1]})`},children:e.jsx(Xe,{className:"w-4 h-4 text-white"})})})]})]})]})}),be&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex items-center justify-center z-10 rounded-2xl p-4",children:e.jsxs("div",{className:`max-w-xs w-full p-6 rounded-xl ${y==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-medium mb-4 ${y==="dark"?"text-gray-200":"text-gray-700"}`,children:"Equalizer"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:"Bass"}),e.jsxs("span",{className:`text-xs ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:[Q.bass," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:Q.bass,onChange:l=>Z("bass",parseInt(l.target.value)),className:"flex-1 h-4 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${d[0]} ${(Q.bass+20)/40*100}%, ${d[1]+"30"} ${(Q.bass+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:"Mid"}),e.jsxs("span",{className:`text-xs ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:[Q.mid," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:Q.mid,onChange:l=>Z("mid",parseInt(l.target.value)),className:"flex-1 h-4 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${d[0]} ${(Q.mid+20)/40*100}%, ${d[1]+"30"} ${(Q.mid+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:"Treble"}),e.jsxs("span",{className:`text-xs ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:[Q.treble," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:Q.treble,onChange:l=>Z("treble",parseInt(l.target.value)),className:"flex-1 h-4 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${d[0]} ${(Q.treble+20)/40*100}%, ${d[1]+"30"} ${(Q.treble+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${y==="dark"?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx("button",{onClick:A,className:`px-3 py-1 rounded text-xs ${y==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-all`,children:"Reset"}),e.jsx("button",{onClick:()=>he(!1),className:`px-3 py-1 rounded text-xs ${y==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-all`,children:"Close"})]})]})}),e.jsx("style",{children:`
                input[type="range"].eq-slider::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    appearance: none;
                    width: 0;
                    height: 0;
                    background: transparent;
                    border: none;
                    box-shadow: none;
                }
                input[type="range"].eq-slider::-moz-range-thumb {
                    width: 0;
                    height: 0;
                    background: transparent;
                    border: none;
                    box-shadow: none;
                }
            `})]})}function ct({audio:c,thumbnail:d,gradient:x=["#cd7eff","#fe59f6"],background:m="#1f273a",autoPlay:_=!1}){const[p,w]=n.useState(!1),[,y]=n.useState(0),v=n.useRef(null),[T,M]=n.useState(0),[O,P]=n.useState(0),[Y,$]=n.useState(0);n.useEffect(()=>{const k=v.current;if(!k)return;const b=()=>y(k.currentTime);return k.addEventListener("timeupdate",b),()=>k.removeEventListener("timeupdate",b)},[]),n.useEffect(()=>{const k=setInterval(()=>{p&&M(b=>b+.1)},100);return()=>clearInterval(k)},[p]),n.useEffect(()=>{const k=setInterval(()=>{p&&$(b=>b+.1)},100);return()=>clearInterval(k)},[p]),n.useEffect(()=>{c&&v.current&&_&&(v.current.play().catch(()=>w(!1)),w(!0))},[c]),n.useEffect(()=>{const k=v.current;if(!k)return;const b=()=>{P(k.duration),console.log("Audio duration:",k.duration)};return $(0),k.addEventListener("loadedmetadata",b),()=>{k.removeEventListener("loadedmetadata",b)}},[c]);const K=()=>{v.current&&(p?v.current.pause():v.current.play().catch(k=>console.error("NanoPlayer play failed:",k)),w(!p))};if(!c)return null;const G={background:`linear-gradient(135deg, ${x[0]}, ${x[1]})`};return e.jsxs("div",{style:{backgroundColor:m},className:`
                relative overflow-hidden inline-flex flex-col 
                ${d?"rounded-2xl":"rounded-full"} 
                px-3 py-2 shadow-lg
                ${d?"w-[120px] h-[150px]":"w-[110px] h-[40px]"}
            `,children:[e.jsx("audio",{ref:v,src:c,onEnded:()=>{w(!1),$(0)}}),e.jsx("div",{style:{width:`${(O>0?Y/O:0)*100}%`,backgroundImage:G.background},className:"absolute top-0 left-0 h-full opacity-20"}),e.jsxs("div",{className:"absolute flex flex-col",children:[d&&e.jsx("div",{className:"w-24 pb-2",children:e.jsx("img",{src:d,alt:"",className:"w-24 aspect-square rounded-xl"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:K,style:G,className:"p-1.5 rounded-full hover:scale-110 transition-transform flex-shrink-0",children:p?e.jsx(Ge,{fill:m,className:"w-3 h-3 text-transparent"}):e.jsx(Je,{fill:m,className:"w-3 h-3 text-transparent"})}),e.jsx("div",{className:"flex w-full min-w-12 items-center gap-0.5 h-6",children:[...Array(12)].map((k,b)=>e.jsx("div",{className:"rounded-full transition-all duration-200",style:{width:"100%",background:`linear-gradient(to top, ${x[0]}, ${x[1]})`,height:p?`${8+Math.sin((T*8+b)*.6)*10}px`:"8px",opacity:p?.8:.4}},b))})]})]})]})}function Rt({video:c,name:d="No video loaded",audioVisual:x=null,volume:m=100,thumbnail:_=null,controls:p={play:!0,pause:!0,stop:!0,seekbar:!0,volume:!0,fullscreen:!0,videoName:!0,equalizer:!0},mode:w="light",transparent:y=!1,autoPlay:v=!1,color:T="#3b82f6",equalizer:M={bass:0,mid:0,treble:0}}){const[O,P]=n.useState(!1),[Y,$]=n.useState(0),[K,G]=n.useState(0),[k,b]=n.useState(m||100),[je,pe]=n.useState(!1),[Ee,ae]=n.useState(!1),[ie,be]=n.useState(!1),[he,Q]=n.useState([]),[we,W]=n.useState(!1),[L,z]=n.useState({bass:M.bass||0,mid:M.mid||0,treble:M.treble||0}),[q,te]=n.useState(0),R=n.useRef(null),g=n.useRef(null),H=n.useRef(null),se=n.useRef(null),ke=n.useRef(null),ce=n.useRef(null),ue=n.useRef(null),Z=n.useRef(null),A=n.useRef(null),le=n.useRef(null),re=n.useRef(0),S=n.useRef(0),D=n.useRef(0),l=n.useRef(0),N=n.useRef(0),U=n.useRef(0),J=n.useRef(!1),f=w==="dark"||ie,j=typeof p=="object"&&Object.keys(p).length===0;n.useEffect(()=>{const r=g.current;if(!r)return;const s=new ResizeObserver(o=>{for(let i of o)te(i.contentRect.width)});return s.observe(r),()=>s.disconnect()},[]),n.useEffect(()=>{const r=[];c&&typeof c!="string"&&r.push(["TypeError","video must be a string (URL or path)"]),d&&typeof d!="string"&&r.push(["TypeError","name must be a string"]),(typeof m!="number"||m<0||m>100)&&r.push(["TypeError","volume must be a number between 0 and 100"]),x&&typeof x!="object"?r.push(["TypeError","audioVisual must be an object"]):x&&(["left","right","top","bottom"].includes(x.side)||r.push(["ValueError","audioVisual.side must be 'left', 'right', 'top', or 'bottom'"])),r.length>0?(Q(r),console.group("%cVideoPlayer: Prop validation failed","color:red"),r.forEach(s=>console.error(`${s[0]}: ${s[1]}`)),console.groupEnd()):Q([])},[c,d,m,x,p,w]),n.useEffect(()=>{if(!R.current)return;const r=R.current,s=()=>{Ee||$(r.currentTime)},o=()=>{G(r.duration)},i=()=>{P(!1),A.current&&cancelAnimationFrame(A.current)},E=()=>P(!0),I=()=>P(!1);return r.addEventListener("timeupdate",s),r.addEventListener("loadedmetadata",o),r.addEventListener("ended",i),r.addEventListener("play",E),r.addEventListener("pause",I),()=>{r.removeEventListener("timeupdate",s),r.removeEventListener("loadedmetadata",o),r.removeEventListener("ended",i),r.removeEventListener("play",E),r.removeEventListener("pause",I)}},[Ee]),n.useEffect(()=>{if(c){const r=O,s=k;if(R.current&&R.current.pause(),R.current){R.current.pause(),R.current.src=c,R.current.volume=je?0:s/100;const o=()=>{r&&R.current&&R.current.play().catch(i=>console.error("Play failed:",i)),R.current&&R.current.removeEventListener("canplay",o)};R.current.addEventListener("canplay",o),R.current.load()}$(0),P(!1),re.current=0,S.current=0,D.current=0,l.current=0,N.current=0,U.current=0,ye()}},[c]),n.useEffect(()=>{R.current&&(R.current.volume=je?0:k/100)},[k,je]),n.useEffect(()=>{H.current&&(ce.current&&(ce.current.gain.value=L.bass),ue.current&&(ue.current.gain.value=L.mid),Z.current&&(Z.current.gain.value=L.treble))},[L]),n.useEffect(()=>{J.current=O,A.current&&(cancelAnimationFrame(A.current),A.current=null),O&&x?(H.current||oe(),Ae()):!O&&x&&Re()},[O,x]),n.useEffect(()=>{const r=()=>{be(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",r),()=>document.removeEventListener("fullscreenchange",r)},[]),n.useEffect(()=>()=>{A.current&&cancelAnimationFrame(A.current),H.current&&H.current.close().catch(r=>console.warn("AudioContext cleanup error:",r))},[]);const oe=()=>{if(!H.current&&R.current)try{const r=window.AudioContext||window.webkitAudioContext;if(r){const s=new r;H.current=s;const o=s.createBiquadFilter();o.type="lowshelf",o.frequency.value=320,o.gain.value=L.bass;const i=s.createBiquadFilter();i.type="peaking",i.frequency.value=1e3,i.Q.value=.5,i.gain.value=L.mid;const E=s.createBiquadFilter();E.type="highshelf",E.frequency.value=3200,E.gain.value=L.treble;const I=s.createAnalyser();I.fftSize=2048,I.smoothingTimeConstant=.8;const de=s.createMediaElementSource(R.current);de.connect(o),o.connect(i),i.connect(E),E.connect(I),E.connect(s.destination),ce.current=o,ue.current=i,Z.current=E,se.current=I,ke.current=de}}catch(r){console.error("Failed to setup audio context:",r)}},Re=()=>{if(J.current)return;re.current*=.7,S.current*=.7;const r=Date.now();r-N.current>1500&&(D.current*=.95),r-U.current>1500&&(l.current*=.95),ye();const s=Math.max(re.current,S.current),o=Math.max(D.current,l.current);s>.01||o>.01?A.current=requestAnimationFrame(Re):(J.current||(re.current=0,S.current=0,D.current=0,l.current=0,ye()),A.current&&cancelAnimationFrame(A.current),A.current=null)},Ae=()=>{if(!se.current||!J.current)return;const r=se.current.frequencyBinCount,s=new Uint8Array(r);se.current.getByteFrequencyData(s);let o=0;for(let I=0;I<r;I++)o+=s[I];let i=o/r/255;i=Math.pow(i,.5),re.current=re.current*.7+i*.3,S.current=S.current*.7+i*.3;const E=Date.now();re.current>D.current?(D.current=re.current,N.current=E):E-N.current>1500&&(D.current*=.95),S.current>l.current?(l.current=S.current,U.current=E):E-U.current>1500&&(l.current*=.95),ye(),A.current=requestAnimationFrame(Ae)},ye=()=>{if(!le.current||!x)return;const r=x.color||"#00ff00",s=x.peak||"#ff0000",o=re.current*100,i=S.current*100,E=100-D.current*100,I=100-l.current*100;x.side==="top"||x.side==="bottom"?le.current.innerHTML=`
                <div class="flex flex-col gap-1 h-full justify-center">
                    <div class="flex items-center justify-center gap-2">
                        <div class="text-xs ${f?"text-gray-100":"text-gray-900"} opacity-80 w-4 text-center">L</div>
                        <div class="relative flex-1 h-3 bg-black/40 rounded-full overflow-hidden flex justify-end">
                            <div class="h-full rounded-l-full transition-all duration-75" style="width: ${o}%; background: ${r};"></div>
                            ${D.current>.1?`<div class="absolute top-0 w-1 h-full transition-all duration-100" style="right: ${D.current*100}%; background: ${s};"></div>`:""}
                        </div>
                        <div class="w-px h-4 bg-white/20"></div>
                        <div class="relative flex-1 h-3 bg-black/40 rounded-full overflow-hidden flex justify-start">
                            <div class="h-full rounded-r-full transition-all duration-75" style="width: ${i}%; background: ${r};"></div>
                            ${l.current>.1?`<div class="absolute top-0 w-1 h-full transition-all duration-100" style="left: ${l.current*100}%; background: ${s};"></div>`:""}
                        </div>
                        <div class="text-xs ${f?"text-gray-100":"text-gray-900"} opacity-80 w-4 text-center">R</div>
                    </div>
                </div>
            `:le.current.innerHTML=`
                <div class="flex gap-2 h-full">
                    <div class="flex-1 flex flex-col">
                        <div class="text-xs text-white opacity-70 text-center mb-1">L</div>
                        <div class="flex-1 relative flex flex-col justify-end bg-black/30 rounded-lg overflow-hidden">
                            <div class="rounded-t transition-all duration-75" style="height: ${o}%; background: ${r};">
                                ${D.current>.1?`<div class="absolute w-full h-1 transition-all duration-100" style="top: ${E}%; background: ${s};"></div>`:""}
                            </div>
                        </div>
                    </div>
                    <div class="flex-1 flex flex-col">
                        <div class="text-xs text-white opacity-70 text-center mb-1">R</div>
                        <div class="flex-1 relative flex flex-col justify-end bg-black/30 rounded-lg overflow-hidden">
                            <div class="rounded-t transition-all duration-75" style="height: ${i}%; background: ${r};">
                                ${l.current>.1?`<div class="absolute w-full h-1 transition-all duration-100" style="top: ${I}%; background: ${s};"></div>`:""}
                        </div>
                    </div>
                </div>
            `},Le=()=>{!R.current||!c||(O?R.current.pause():(H.current&&H.current.state==="suspended"&&H.current.resume(),R.current.play().catch(r=>console.error("Play failed:",r))))},Ce=()=>{R.current&&(R.current.pause(),R.current.currentTime=0,P(!1),$(0),re.current=0,S.current=0,D.current=0,l.current=0,ye())},Fe=r=>{const o=parseFloat(r.target.value)/100*K;$(o),R.current&&!Ee&&(R.current.currentTime=o)},Be=()=>ae(!0),He=()=>{R.current&&(R.current.currentTime=Y),ae(!1)},Me=r=>{const s=parseInt(r.target.value);b(s),pe(s===0)},Oe=()=>pe(!je),We=()=>{g.current&&(document.fullscreenElement?document.exitFullscreen():g.current.requestFullscreen().catch(r=>console.error("Fullscreen failed:",r)))},ze=(r,s)=>{z(o=>({...o,[r]:s})),H.current&&(r==="bass"&&ce.current&&(ce.current.gain.value=s),r==="mid"&&ue.current&&(ue.current.gain.value=s),r==="treble"&&Z.current&&(Z.current.gain.value=s))},Ve=()=>{z({bass:0,mid:0,treble:0})},_e=r=>{if(isNaN(r))return"0:00";const s=Math.floor(r/60),o=Math.floor(r%60);return`${s}:${o.toString().padStart(2,"0")}`};if(n.useEffect(()=>{(j&&!O||v)&&Le()},[p]),he&&he.length>0)return he.map((r,s)=>e.jsxs("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded mb-4 border border-red-300",children:[e.jsxs("strong",{children:[r[0],":"]})," ",r[1]]},s));const Te=x?x.side:null,Ie=Te==="top"||Te==="bottom";return e.jsx("div",{ref:g,className:`rounded-xl overflow-hidden transition-all duration-300 ${ie?"fixed inset-0 z-[9999] flex flex-col h-screen w-screen bg-black":"relative"}`,style:{backgroundColor:j||y?void 0:f?"#49494937":"white"},children:e.jsxs("div",{style:{background:j||y?void 0:f?"#1a1a1ab0":"#f5f5f5",height:ie?"100%":"auto"},className:`${j||y?"":"p-4"} ${ie?"flex flex-col flex-1":""}`,children:[p.videoName&&!ie&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:`${f?"text-gray-100":"text-gray-700"} font-medium`,children:d})}),e.jsxs("div",{className:`relative ${Ie?"flex flex-col gap-3":"flex gap-3"} ${ie?"flex-1 min-h-0":"mb-4"}`,children:[x&&Te==="top"&&e.jsx("div",{className:"w-full h-12",ref:le}),e.jsxs("div",{className:`flex ${!Ie&&"flex-1"} gap-3`,children:[x&&Te==="left"&&e.jsx("div",{className:"w-12 bg-black/50 rounded-lg p-1",ref:le}),e.jsxs("div",{className:`flex-1 ${f?"bg-black/70":"bg-white/70"} rounded-lg overflow-hidden relative`,children:[e.jsxs("video",{ref:R,className:"w-full h-full object-contain",poster:_||void 0,children:[c&&e.jsx("source",{src:c}),"Your browser does not support the video tag."]}),we&&e.jsx("div",{className:"absolute inset-0 flex flex-col w-full justify-center z-10 rounded-lg p-4 shadow-sm transition-all duration-300",children:e.jsxs("div",{className:`max-w-[600px] w-full mx-auto flex flex-col justify-center z-10 ${f?"bg-black/70":"bg-white/80"} rounded-lg p-4 shadow-sm transition-all duration-300`,children:[e.jsx("h3",{className:`text-sm font-medium mb-4 ${f?"text-gray-200":"text-gray-700"}`,children:"Equalizer"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-300":"text-gray-600"}`,children:"Bass"}),e.jsxs("span",{className:`text-xs ${f?"text-gray-300":"text-gray-600"}`,children:[L.bass," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:L.bass,onChange:r=>ze("bass",parseInt(r.target.value)),className:"flex-1 h-6 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${T} ${(L.bass+20)/40*100}%, #e5e7eb ${(L.bass+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-300":"text-gray-600"}`,children:"Mid"}),e.jsxs("span",{className:`text-xs ${f?"text-gray-300":"text-gray-600"}`,children:[L.mid," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:L.mid,onChange:r=>ze("mid",parseInt(r.target.value)),className:"flex-1 h-6 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${T} ${(L.mid+20)/40*100}%, #e5e7eb ${(L.mid+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-300":"text-gray-600"}`,children:"Treble"}),e.jsxs("span",{className:`text-xs ${f?"text-gray-300":"text-gray-600"}`,children:[L.treble," dB"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:"-20"}),e.jsx("input",{type:"range",min:"-20",max:"20",value:L.treble,onChange:r=>ze("treble",parseInt(r.target.value)),className:"flex-1 h-6 bg-gray-300 rounded-lg appearance-none cursor-pointer eq-slider",style:{background:`linear-gradient(to right, ${T} ${(L.treble+20)/40*100}%, #e5e7eb ${(L.treble+20)/40*100}%)`}}),e.jsx("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:"+20"})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx("button",{onClick:Ve,className:`px-3 py-1 rounded text-xs ${f?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-all`,children:"Reset"}),e.jsx("button",{onClick:()=>W(!1),className:`ml-2 px-3 py-1 rounded text-xs ${f?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-all`,children:"Close"})]})]})})]}),x&&Te==="right"&&e.jsx("div",{className:"w-12 bg-black/50 rounded-lg p-1",ref:le})]}),x&&Te==="bottom"&&e.jsx("div",{className:"w-full h-12",ref:le})]}),p.seekbar&&e.jsx("div",{className:`mb-4 ${ie?"mt-3":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs ${f?"text-gray-100":"text-gray-600"} font-mono w-12`,children:_e(Y)}),e.jsx("input",{type:"range",min:"0",max:"100",value:K>0?Y/K*100:0,onChange:Fe,onMouseDown:Be,onMouseUp:He,onTouchStart:Be,onTouchEnd:He,disabled:!c,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed",style:{background:c&&K>0?`linear-gradient(to right, ${T} ${Y/K*100}%, #e5e7eb ${Y/K*100}%)`:"#e5e7eb"}}),e.jsx("span",{className:`text-xs ${f?"text-gray-100":"text-gray-600"} font-mono w-12 text-right`,children:_e(K)})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.play&&e.jsxs("button",{onClick:Le,disabled:!c,style:{backgroundColor:T},className:`${q>400?" px-4 py-2":"px-3 py-5"} rounded-full text-sm font-medium text-white hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-2 transition-all`,children:[e.jsxs("div",{className:"relative w-4 flex items-center",children:[e.jsx(Ge,{size:16,className:`${O?"":"scale-0 translate-y-10"} transition-all absolute`}),e.jsx(Je,{size:16,className:`${O?"scale-0 -translate-y-10":""} transition-all absolute`})]}),q>400&&(O?"Pause":"Play")]}),p.stop&&e.jsx("button",{onClick:Ce,disabled:!c,className:`${f?"bg-gray-100 text-black hover:bg-gray-300":"bg-gray-700 text-white hover:bg-gray-800"} px-3 py-3 rounded-full text-sm font-medium disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-2 transition-all`,children:e.jsx(st,{size:16})}),p.fullscreen&&e.jsxs("button",{onClick:We,className:`${q<800?"px-3 py-3":"px-4 py-2"} rounded-full text-sm font-medium flex items-center gap-2 transition-all ${f?"bg-gray-100 text-black hover:bg-gray-300":"bg-gray-700 text-white hover:bg-gray-800"}`,children:[ie?e.jsx(kt,{size:16}):e.jsx(wt,{size:16}),e.jsx("span",{style:{display:q<800?"none":"block"},children:ie?"Exit":"Full"})]}),p.equalizer&&e.jsxs("button",{onClick:()=>W(!we),disabled:!c,className:`${q<700?"px-3 py-3":"px-4 py-2"} rounded-full text-sm font-medium flex items-center gap-2 transition-all ${we?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-300"} disabled:opacity-40 disabled:cursor-not-allowed`,style:we?{backgroundColor:T}:{},children:[e.jsx(Xe,{size:16}),e.jsx("span",{style:{display:q<700?"none":"block"},children:"EQ"})]}),p.volume&&e.jsxs("div",{className:"flex items-center gap-1 md:gap-3 ml-auto",children:[e.jsx("button",{onClick:Oe,className:"p-2 rounded-lg hover:bg-gray-100 transition-all",children:je||k===0?e.jsx(Ze,{size:20,className:f?"text-gray-100":"text-gray-600"}):e.jsx(qe,{size:20,className:f?"text-gray-100":"text-gray-600"})}),e.jsx("input",{type:"range",min:"0",max:"100",value:k,onChange:Me,className:"hide-for-xs w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${T} ${k}%, #e5e7eb ${k}%)`,display:q<460?"none":"block"}}),e.jsxs("span",{style:{display:q<800?"none":"block"},className:`text-xs ${f?"text-gray-100":"text-gray-700"} font-mono w-10 text-right`,children:[k,"%"]})]})]}),e.jsx("style",{children:`
                    input[type="range"]::-webkit-slider-thumb {
                        -webkit-appearance: none;
                        appearance: none;
                        width: 16px;
                        height: 16px;
                        border-radius: 50%;
                        background: ${T};
                        cursor: pointer;
                        border: 2px solid white;
                        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                    }
                    
                    input[type="range"]::-moz-range-thumb {
                        width: 16px;
                        height: 16px;
                        border-radius: 50%;
                        background: ${T};
                        cursor: pointer;
                        border: 2px solid white;
                        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
                    }
                    input[type="range"].eq-slider::-webkit-slider-thumb {
                        -webkit-appearance: none;
                        appearance: none;
                        width: 0;
                        height: 0;
                        background: transparent;
                        border: none;
                        box-shadow: none;
                    }
                    input[type="range"].eq-slider::-moz-range-thumb {
                        width: 0;
                        height: 0;
                        background: transparent;
                        border: none;
                        box-shadow: none;
                    }
                    .hide-for-xs {
                        display: flex;
                    }
                    @media (max-width: 480px) {
                        .hide-for-xs {
                            display: none;
                        }
                    }
                `})]})})}function Ct(){const[c,d]=n.useState(null),[x,m]=n.useState("No track loaded"),[_,p]=n.useState("purple"),[w,y]=n.useState(!1),[v,T]=n.useState(!1),[M,O]=n.useState("light"),P=n.useRef(null),Y=K=>{var k;const G=(k=K.target.files)==null?void 0:k[0];if(G){const b=URL.createObjectURL(G);d(b),m(G.name)}},$=()=>{var K;(K=P.current)==null||K.click()};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 md:p-8",style:{backgroundColor:M==="dark"?"#222":"white"},children:e.jsxs("div",{className:"w-full h-full md:h-auto md:max-w-4xl",children:[w&&e.jsx(lt,{theme:_,setTheme:p,close:()=>y(!1)}),e.jsxs("div",{className:"container-glass rounded-xl p-8",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-semibold ${M==="dark"?"text-gray-200":"text-gray-800"} mb-1`,children:"Audio Visualizer"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Professional frequency analyzer"})]}),e.jsxs("button",{onClick:()=>y(!w),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 flex items-center gap-2",children:[e.jsx("span",{children:""})," Themes"]})]}),e.jsx(ot,{audio:c||void 0,name:x||void 0,author:"K.Prabhasha",theme:_,autoPlay:!1,thumbnail:"https://cdn-icons-png.flaticon.com/512/3845/3845874.png",mode:M,transparent:v,volume:70,controls:{play:!0,pause:!0,stop:!0,seekbar:!0,volume:!0,loop:!0,trackName:!0}}),e.jsx(it,{audio:c||"",width:400,thumbnail:"https://cdn-icons-png.flaticon.com/512/8316/8316619.png",autoPlay:!1,gradient:["#26ce3aff","#39eed9ff"],background:"#c0ffefff"}),e.jsx(ct,{audio:c||"",thumbnail:"https://cdn-icons-png.flaticon.com/512/17524/17524837.png",autoPlay:!1,gradient:["#26ce3aff","#39eed9ff"],background:"#c0ffefff"}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[e.jsx("input",{type:"file",ref:P,onChange:Y,accept:"audio/*",className:"hidden"}),e.jsxs("button",{onClick:$,className:"bg-white border border-gray-300 text-gray-700 px-6 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(Et,{size:16}),"Load Audio"]}),e.jsx("button",{onClick:()=>O(M==="dark"?"light":"dark"),className:"bg-white border border-gray-300 text-gray-700 px-6 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 flex items-center gap-2",children:M==="dark"?"Light":"Dark"}),e.jsxs("button",{onClick:()=>T(!v),className:"bg-white border border-gray-300 text-gray-700 px-6 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 flex items-center gap-2",children:["Transparent: ",String(v)]})]})]})]})})}me.DemoVisualizePlayer=Ct,me.NanoAudioPlayer=ct,me.ThemeSelector=lt,me.VideoPlayer=Rt,me.VisualizePlayer=ot,me.WaveAudioPlayer=it,me.themes=Se,Object.defineProperty(me,Symbol.toStringTag,{value:"Module"})});
